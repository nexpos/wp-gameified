!function(e,i,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(i,n):e[i]=n()}(this,"bowser",function(){var S=!0;function r(n){function e(e){var i=n.match(e);return i&&1<i.length&&i[1]||""}function i(e){var i=n.match(e);return i&&1<i.length&&i[2]||""}var s,o=e(/(ipod|iphone|ipad)/i).toLowerCase(),t=!/like android/i.test(n)&&/android/i.test(n),r=/nexus\s*[0-6]\s*/i.test(n),a=!r&&/nexus\s*[0-9]+/i.test(n),d=/CrOS/.test(n),m=/silk/i.test(n),l=/sailfish/i.test(n),c=/tizen/i.test(n),f=/(web|hpw)(o|0)s/i.test(n),u=/windows phone/i.test(n),v=(/SamsungBrowser/i.test(n),!u&&/windows/i.test(n)),p=!o&&!m&&/macintosh/i.test(n),b=!t&&!l&&!c&&!f&&/linux/i.test(n),h=i(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),y=e(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(n)&&!/tablet pc/i.test(n),g=!w&&/[^-]mobi/i.test(n),k=/xbox/i.test(n);/opera/i.test(n)?s={name:"Opera",opera:S,version:y||e(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(n)?s={name:"Opera",opera:S,version:e(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||y}:/SamsungBrowser/i.test(n)?s={name:"Samsung Internet for Android",samsungBrowser:S,version:y||e(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(n)?s={name:"NAVER Whale browser",whale:S,version:e(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(n)?s={name:"MZ Browser",mzbrowser:S,version:e(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(n)?s={name:"Opera Coast",coast:S,version:y||e(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(n)?s={name:"Focus",focus:S,version:e(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(n)?s={name:"Yandex Browser",yandexbrowser:S,version:y||e(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(n)?s={name:"UC Browser",ucbrowser:S,version:e(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(n)?s={name:"Maxthon",maxthon:S,version:e(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(n)?s={name:"Epiphany",epiphany:S,version:e(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(n)?s={name:"Puffin",puffin:S,version:e(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(n)?s={name:"Sleipnir",sleipnir:S,version:e(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(n)?s={name:"K-Meleon",kMeleon:S,version:e(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:u?(s={name:"Windows Phone",osname:"Windows Phone",windowsphone:S},h?(s.msedge=S,s.version=h):(s.msie=S,s.version=e(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(n)?s={name:"Internet Explorer",msie:S,version:e(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:d?s={name:"Chrome",osname:"Chrome OS",chromeos:S,chromeBook:S,chrome:S,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(n)?s={name:"Microsoft Edge",msedge:S,version:h}:/vivaldi/i.test(n)?s={name:"Vivaldi",vivaldi:S,version:e(/vivaldi\/(\d+(\.\d+)?)/i)||y}:l?s={name:"Sailfish",osname:"Sailfish OS",sailfish:S,version:e(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(n)?s={name:"SeaMonkey",seamonkey:S,version:e(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(n)?(s={name:"Firefox",firefox:S,version:e(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(n)&&(s.firefoxos=S,s.osname="Firefox OS")):m?s={name:"Amazon Silk",silk:S,version:e(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(n)?s={name:"PhantomJS",phantom:S,version:e(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(n)?s={name:"SlimerJS",slimer:S,version:e(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(n)||/rim\stablet/i.test(n)?s={name:"BlackBerry",osname:"BlackBerry OS",blackberry:S,version:y||e(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:f?(s={name:"WebOS",osname:"WebOS",webos:S,version:y||e(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(n)&&(s.touchpad=S)):/bada/i.test(n)?s={name:"Bada",osname:"Bada",bada:S,version:e(/dolfin\/(\d+(\.\d+)?)/i)}:c?s={name:"Tizen",osname:"Tizen",tizen:S,version:e(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||y}:/qupzilla/i.test(n)?s={name:"QupZilla",qupzilla:S,version:e(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||y}:/chromium/i.test(n)?s={name:"Chromium",chromium:S,version:e(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||y}:/chrome|crios|crmo/i.test(n)?s={name:"Chrome",chrome:S,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:t?s={name:"Android",version:y}:/safari|applewebkit/i.test(n)?(s={name:"Safari",safari:S},y&&(s.version=y)):o?(s={name:"iphone"==o?"iPhone":"ipad"==o?"iPad":"iPod"},y&&(s.version=y)):s=/googlebot/i.test(n)?{name:"Googlebot",googlebot:S,version:e(/googlebot\/(\d+(\.\d+))/i)||y}:{name:e(/^(.*)\/(.*) /),version:i(/^(.*)\/(.*) /)},!s.msedge&&/(apple)?webkit/i.test(n)?(/(apple)?webkit\/537\.36/i.test(n)?(s.name=s.name||"Blink",s.blink=S):(s.name=s.name||"Webkit",s.webkit=S),!s.version&&y&&(s.version=y)):!s.opera&&/gecko\//i.test(n)&&(s.name=s.name||"Gecko",s.gecko=S,s.version=s.version||e(/gecko\/(\d+(\.\d+)?)/i)),s.windowsphone||!t&&!s.silk?!s.windowsphone&&o?(s[o]=S,s.ios=S,s.osname="iOS"):p?(s.mac=S,s.osname="macOS"):k?(s.xbox=S,s.osname="Xbox"):v?(s.windows=S,s.osname="Windows"):b&&(s.linux=S,s.osname="Linux"):(s.android=S,s.osname="Android");var x="";s.windows?x=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(e(/Windows ((NT|XP)( \d\d?.\d)?)/i)):s.windowsphone?x=e(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):s.mac?x=(x=e(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):o?x=(x=e(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):t?x=e(/android[ \/-](\d+(\.\d+)*)/i):s.webos?x=e(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):s.blackberry?x=e(/rim\stablet\sos\s(\d+(\.\d+)*)/i):s.bada?x=e(/bada\/(\d+(\.\d+)*)/i):s.tizen&&(x=e(/tizen[\/\s](\d+(\.\d+)*)/i)),x&&(s.osversion=x);var C=!s.windows&&x.split(".")[0];return w||a||"ipad"==o||t&&(3==C||4<=C&&!g)||s.silk?s.tablet=S:(g||"iphone"==o||"ipod"==o||t||r||s.blackberry||s.webos||s.bada)&&(s.mobile=S),s.msedge||s.msie&&10<=s.version||s.yandexbrowser&&15<=s.version||s.vivaldi&&1<=s.version||s.chrome&&20<=s.version||s.samsungBrowser&&4<=s.version||s.whale&&1===P([s.version,"1.0"])||s.mzbrowser&&1===P([s.version,"6.0"])||s.focus&&1===P([s.version,"1.0"])||s.firefox&&20<=s.version||s.safari&&6<=s.version||s.opera&&10<=s.version||s.ios&&s.osversion&&6<=s.osversion.split(".")[0]||s.blackberry&&10.1<=s.version||s.chromium&&20<=s.version?s.a=S:s.msie&&s.version<10||s.chrome&&s.version<20||s.firefox&&s.version<20||s.safari&&s.version<6||s.opera&&s.version<10||s.ios&&s.osversion&&s.osversion.split(".")[0]<6||s.chromium&&s.version<20?s.c=S:s.x=S,s}var a=r("undefined"!=typeof navigator&&navigator.userAgent||"");function s(e){return e.split(".").length}function o(e,i){var n,s=[];if(Array.prototype.map)return Array.prototype.map.call(e,i);for(n=0;n<e.length;n++)s.push(i(e[n]));return s}function P(e){for(var n=Math.max(s(e[0]),s(e[1])),i=o(e,function(e){var i=n-s(e);return o((e+=new Array(i+1).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});0<=--n;){if(i[0][n]>i[1][n])return 1;if(i[0][n]!==i[1][n])return-1;if(0===n)return 0}}function t(e,i,n){var s=a;"string"==typeof i&&(n=i,i=void 0),void 0===i&&(i=!1),n&&(s=r(n));var o=""+s.version;for(var t in e)if(e.hasOwnProperty(t)&&s[t]){if("string"!=typeof e[t])throw new Error("Browser version in the minVersion map should be a string: "+t+": "+String(e));return P([o,e[t]])<0}return i}return a.test=function(e){for(var i=0;i<e.length;++i){var n=e[i];if("string"==typeof n&&n in a)return!0}return!1},a.isUnsupportedBrowser=t,a.compareVersions=P,a.check=function(e,i,n){return!t(e,i,n)},a._detect=r,a.detect=r,a}),function(s){s.fn.niftyNav=function(e){$nifty_toggle=s("#nifty-nav-toggle"),$nifty_panel=s(".nifty-panel"),$nifty_nav_item=s(".nifty-nav-item"),$nifty_parent=s(".nifty-panel ul li");var i,n=s.extend({subMenus:!1,mask:!0,itemClickClose:!0,panelPosition:"absolute",subMenuParentLink:!1},e);(subMenus=n.subMenus,mask=n.mask,itemClickClose=n.itemClickClose,panelPosition=n.panelPosition,subMenuParentLink=n.subMenuParentLink,niftyRemove=function(){s(".nifty-mask").remove()},niftyUnmask=function(){s(".nifty-mask").animate({opacity:0}),setTimeout(niftyRemove,800)},$nifty_toggle.click(function(){s(this).toggleClass("nifty-active"),$nifty_panel.slideToggle(500).css("position",panelPosition),"fixed"==panelPosition&&s("body").toggleClass("nifty-lock"),!0===mask&&(0<s(".nifty-mask").length?niftyUnmask():(s("body").append('<div class="nifty-mask"></div>'),s(".nifty-mask").animate({opacity:1}),s(".nifty-mask").click(function(){$nifty_panel.slideUp(500),niftyUnmask(),$nifty_toggle.removeClass("nifty-active"),"fixed"==panelPosition&&s("body").removeClass("nifty-lock")})))}),!0===itemClickClose&&$nifty_nav_item.click(function(){$nifty_panel.slideUp(500),niftyUnmask(),$nifty_toggle.removeClass("nifty-active"),"fixed"==panelPosition&&s("body").removeClass("nifty-lock")}),!0===subMenus)&&(!1===subMenuParentLink&&s(".nifty-panel .menu-item-has-children > a").click(function(e){e.preventDefault()}),$nifty_parent.click(function(){(i=s(this)).find(".sub-menu").slideToggle(),i.toggleClass("nifty-menu-opened")}))}}(jQuery),jQuery(document).ready(function(e){"ontouchstart"in document.documentElement&&e("body").removeClass("no-touch"),bowser.msie&&11==bowser.version?e("body").addClass("ie-11"):bowser.safari&&e("body").addClass("safari"),e("#nifty-nav-toggle").niftyNav(),e(".gform_wrapper form .animated").find("input, select, textarea").on("focusin",function(){e(this).parents(".animated").children("label").addClass("active-position active-weight active-color"),e(".gform_wrapper form .animated").find("input, select, textarea").on("focusout",function(){""!==e(this).val()?e(this).parents(".animated").children("label").removeClass("active-weight"):e(this).parents(".animated").children("label").removeClass("active-position active-weight active-color")})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvd3Nlci5qcyIsIm5pZnR5LW5hdi5qcyIsInRoZW1lLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJuYW1lIiwiZGVmaW5pdGlvbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwidCIsImRldGVjdCIsInVhIiwiZ2V0Rmlyc3RNYXRjaCIsInJlZ2V4IiwibWF0Y2giLCJsZW5ndGgiLCJnZXRTZWNvbmRNYXRjaCIsInJlc3VsdCIsImlvc2RldmljZSIsInRvTG93ZXJDYXNlIiwiYW5kcm9pZCIsInRlc3QiLCJuZXh1c01vYmlsZSIsIm5leHVzVGFibGV0IiwiY2hyb21lb3MiLCJzaWxrIiwic2FpbGZpc2giLCJ0aXplbiIsIndlYm9zIiwid2luZG93c3Bob25lIiwid2luZG93cyIsIm1hYyIsImxpbnV4IiwiZWRnZVZlcnNpb24iLCJ2ZXJzaW9uSWRlbnRpZmllciIsInRhYmxldCIsIm1vYmlsZSIsInhib3giLCJvcGVyYSIsInZlcnNpb24iLCJzYW1zdW5nQnJvd3NlciIsIndoYWxlIiwibXpicm93c2VyIiwiY29hc3QiLCJmb2N1cyIsInlhbmRleGJyb3dzZXIiLCJ1Y2Jyb3dzZXIiLCJtYXh0aG9uIiwiZXBpcGhhbnkiLCJwdWZmaW4iLCJzbGVpcG5pciIsImtNZWxlb24iLCJvc25hbWUiLCJtc2VkZ2UiLCJtc2llIiwiY2hyb21lQm9vayIsImNocm9tZSIsInZpdmFsZGkiLCJzZWFtb25rZXkiLCJmaXJlZm94IiwiZmlyZWZveG9zIiwicGhhbnRvbSIsInNsaW1lciIsImJsYWNrYmVycnkiLCJ0b3VjaHBhZCIsImJhZGEiLCJxdXB6aWxsYSIsImNocm9taXVtIiwic2FmYXJpIiwiZ29vZ2xlYm90IiwiYmxpbmsiLCJ3ZWJraXQiLCJnZWNrbyIsImlvcyIsIm9zVmVyc2lvbiIsInMiLCJnZXRXaW5kb3dzVmVyc2lvbiIsInJlcGxhY2UiLCJvc3ZlcnNpb24iLCJvc01ham9yVmVyc2lvbiIsInNwbGl0IiwiY29tcGFyZVZlcnNpb25zIiwiYSIsImMiLCJ4IiwiYm93c2VyIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiZ2V0VmVyc2lvblByZWNpc2lvbiIsIm1hcCIsImFyciIsIml0ZXJhdG9yIiwiaSIsIkFycmF5IiwicHJvdG90eXBlIiwiY2FsbCIsInB1c2giLCJ2ZXJzaW9ucyIsInByZWNpc2lvbiIsIk1hdGgiLCJtYXgiLCJjaHVua3MiLCJkZWx0YSIsImpvaW4iLCJjaHVuayIsInJldmVyc2UiLCJpc1Vuc3VwcG9ydGVkQnJvd3NlciIsIm1pblZlcnNpb25zIiwic3RyaWN0TW9kZSIsIl9ib3dzZXIiLCJicm93c2VyIiwiaGFzT3duUHJvcGVydHkiLCJFcnJvciIsIlN0cmluZyIsImJyb3dzZXJMaXN0IiwiYnJvd3Nlckl0ZW0iLCJjaGVjayIsIl9kZXRlY3QiLCIkIiwiZm4iLCJuaWZ0eU5hdiIsIm9wdGlvbnMiLCIkbmlmdHlfdG9nZ2xlIiwiJG5pZnR5X3BhbmVsIiwiJG5pZnR5X25hdl9pdGVtIiwiJG5pZnR5X3BhcmVudCIsIiRuaWZ0eV9wYXJlbnRfYWN0aXZlIiwic2V0dGluZ3MiLCJleHRlbmQiLCJzdWJNZW51cyIsIm1hc2siLCJpdGVtQ2xpY2tDbG9zZSIsInBhbmVsUG9zaXRpb24iLCJzdWJNZW51UGFyZW50TGluayIsIm5pZnR5UmVtb3ZlIiwicmVtb3ZlIiwibmlmdHlVbm1hc2siLCJhbmltYXRlIiwib3BhY2l0eSIsInNldFRpbWVvdXQiLCJjbGljayIsInRvZ2dsZUNsYXNzIiwic2xpZGVUb2dnbGUiLCJjc3MiLCJhcHBlbmQiLCJzbGlkZVVwIiwicmVtb3ZlQ2xhc3MiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZmluZCIsImpRdWVyeSIsImRvY3VtZW50IiwicmVhZHkiLCJkb2N1bWVudEVsZW1lbnQiLCJhZGRDbGFzcyIsIm9uIiwicGFyZW50cyIsImNoaWxkcmVuIiwidmFsIl0sIm1hcHBpbmdzIjoiQ0FNQSxTQUFBQSxFQUFBQyxFQUFBQyxHQUNBLG9CQUFBQyxRQUFBQSxPQUFBQyxRQUFB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QUFBLFNBQUFYLFlBQUEiLCJmaWxlIjoidGhlbWUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBCb3dzZXIgLSBhIGJyb3dzZXIgZGV0ZWN0b3JcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9kZWQvYm93c2VyXG4gKiBNSVQgTGljZW5zZSB8IChjKSBEdXN0aW4gRGlheiAyMDE1XG4gKi9cblxuIWZ1bmN0aW9uIChyb290LCBuYW1lLCBkZWZpbml0aW9uKSB7XG4gIGlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSBtb2R1bGUuZXhwb3J0cyA9IGRlZmluaXRpb24oKVxuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgZGVmaW5lKG5hbWUsIGRlZmluaXRpb24pXG4gIGVsc2Ugcm9vdFtuYW1lXSA9IGRlZmluaXRpb24oKVxufSh0aGlzLCAnYm93c2VyJywgZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICAqIFNlZSB1c2VyYWdlbnRzLmpzIGZvciBleGFtcGxlcyBvZiBuYXZpZ2F0b3IudXNlckFnZW50XG4gICAgKi9cblxuICB2YXIgdCA9IHRydWVcblxuICBmdW5jdGlvbiBkZXRlY3QodWEpIHtcblxuICAgIGZ1bmN0aW9uIGdldEZpcnN0TWF0Y2gocmVnZXgpIHtcbiAgICAgIHZhciBtYXRjaCA9IHVhLm1hdGNoKHJlZ2V4KTtcbiAgICAgIHJldHVybiAobWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID4gMSAmJiBtYXRjaFsxXSkgfHwgJyc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2Vjb25kTWF0Y2gocmVnZXgpIHtcbiAgICAgIHZhciBtYXRjaCA9IHVhLm1hdGNoKHJlZ2V4KTtcbiAgICAgIHJldHVybiAobWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID4gMSAmJiBtYXRjaFsyXSkgfHwgJyc7XG4gICAgfVxuXG4gICAgdmFyIGlvc2RldmljZSA9IGdldEZpcnN0TWF0Y2goLyhpcG9kfGlwaG9uZXxpcGFkKS9pKS50b0xvd2VyQ2FzZSgpXG4gICAgICAsIGxpa2VBbmRyb2lkID0gL2xpa2UgYW5kcm9pZC9pLnRlc3QodWEpXG4gICAgICAsIGFuZHJvaWQgPSAhbGlrZUFuZHJvaWQgJiYgL2FuZHJvaWQvaS50ZXN0KHVhKVxuICAgICAgLCBuZXh1c01vYmlsZSA9IC9uZXh1c1xccypbMC02XVxccyovaS50ZXN0KHVhKVxuICAgICAgLCBuZXh1c1RhYmxldCA9ICFuZXh1c01vYmlsZSAmJiAvbmV4dXNcXHMqWzAtOV0rL2kudGVzdCh1YSlcbiAgICAgICwgY2hyb21lb3MgPSAvQ3JPUy8udGVzdCh1YSlcbiAgICAgICwgc2lsayA9IC9zaWxrL2kudGVzdCh1YSlcbiAgICAgICwgc2FpbGZpc2ggPSAvc2FpbGZpc2gvaS50ZXN0KHVhKVxuICAgICAgLCB0aXplbiA9IC90aXplbi9pLnRlc3QodWEpXG4gICAgICAsIHdlYm9zID0gLyh3ZWJ8aHB3KShvfDApcy9pLnRlc3QodWEpXG4gICAgICAsIHdpbmRvd3NwaG9uZSA9IC93aW5kb3dzIHBob25lL2kudGVzdCh1YSlcbiAgICAgICwgc2Ftc3VuZ0Jyb3dzZXIgPSAvU2Ftc3VuZ0Jyb3dzZXIvaS50ZXN0KHVhKVxuICAgICAgLCB3aW5kb3dzID0gIXdpbmRvd3NwaG9uZSAmJiAvd2luZG93cy9pLnRlc3QodWEpXG4gICAgICAsIG1hYyA9ICFpb3NkZXZpY2UgJiYgIXNpbGsgJiYgL21hY2ludG9zaC9pLnRlc3QodWEpXG4gICAgICAsIGxpbnV4ID0gIWFuZHJvaWQgJiYgIXNhaWxmaXNoICYmICF0aXplbiAmJiAhd2Vib3MgJiYgL2xpbnV4L2kudGVzdCh1YSlcbiAgICAgICwgZWRnZVZlcnNpb24gPSBnZXRTZWNvbmRNYXRjaCgvZWRnKFtlYV18aW9zKVxcLyhcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgICwgdmVyc2lvbklkZW50aWZpZXIgPSBnZXRGaXJzdE1hdGNoKC92ZXJzaW9uXFwvKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgLCB0YWJsZXQgPSAvdGFibGV0L2kudGVzdCh1YSkgJiYgIS90YWJsZXQgcGMvaS50ZXN0KHVhKVxuICAgICAgLCBtb2JpbGUgPSAhdGFibGV0ICYmIC9bXi1dbW9iaS9pLnRlc3QodWEpXG4gICAgICAsIHhib3ggPSAveGJveC9pLnRlc3QodWEpXG4gICAgICAsIHJlc3VsdFxuXG4gICAgaWYgKC9vcGVyYS9pLnRlc3QodWEpKSB7XG4gICAgICAvLyAgYW4gb2xkIE9wZXJhXG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdPcGVyYSdcbiAgICAgICwgb3BlcmE6IHRcbiAgICAgICwgdmVyc2lvbjogdmVyc2lvbklkZW50aWZpZXIgfHwgZ2V0Rmlyc3RNYXRjaCgvKD86b3BlcmF8b3ByfG9waW9zKVtcXHNcXC9dKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoL29wclxcL3xvcGlvcy9pLnRlc3QodWEpKSB7XG4gICAgICAvLyBhIG5ldyBPcGVyYVxuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnT3BlcmEnXG4gICAgICAgICwgb3BlcmE6IHRcbiAgICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC8oPzpvcHJ8b3Bpb3MpW1xcc1xcL10oXFxkKyhcXC5cXGQrKT8pL2kpIHx8IHZlcnNpb25JZGVudGlmaWVyXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9TYW1zdW5nQnJvd3Nlci9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdTYW1zdW5nIEludGVybmV0IGZvciBBbmRyb2lkJ1xuICAgICAgICAsIHNhbXN1bmdCcm93c2VyOiB0XG4gICAgICAgICwgdmVyc2lvbjogdmVyc2lvbklkZW50aWZpZXIgfHwgZ2V0Rmlyc3RNYXRjaCgvKD86U2Ftc3VuZ0Jyb3dzZXIpW1xcc1xcL10oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9XaGFsZS9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdOQVZFUiBXaGFsZSBicm93c2VyJ1xuICAgICAgICAsIHdoYWxlOiB0XG4gICAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvKD86d2hhbGUpW1xcc1xcL10oXFxkKyg/OlxcLlxcZCspKykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoL01aQnJvd3Nlci9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdNWiBCcm93c2VyJ1xuICAgICAgICAsIG16YnJvd3NlcjogdFxuICAgICAgICAsIHZlcnNpb246IGdldEZpcnN0TWF0Y2goLyg/Ok1aQnJvd3NlcilbXFxzXFwvXShcXGQrKD86XFwuXFxkKykrKS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvY29hc3QvaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnT3BlcmEgQ29hc3QnXG4gICAgICAgICwgY29hc3Q6IHRcbiAgICAgICAgLCB2ZXJzaW9uOiB2ZXJzaW9uSWRlbnRpZmllciB8fCBnZXRGaXJzdE1hdGNoKC8oPzpjb2FzdClbXFxzXFwvXShcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoL2ZvY3VzL2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ0ZvY3VzJ1xuICAgICAgICAsIGZvY3VzOiB0XG4gICAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvKD86Zm9jdXMpW1xcc1xcL10oXFxkKyg/OlxcLlxcZCspKykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoL3lhYnJvd3Nlci9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdZYW5kZXggQnJvd3NlcidcbiAgICAgICwgeWFuZGV4YnJvd3NlcjogdFxuICAgICAgLCB2ZXJzaW9uOiB2ZXJzaW9uSWRlbnRpZmllciB8fCBnZXRGaXJzdE1hdGNoKC8oPzp5YWJyb3dzZXIpW1xcc1xcL10oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC91Y2Jyb3dzZXIvaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgIG5hbWU6ICdVQyBCcm93c2VyJ1xuICAgICAgICAsIHVjYnJvd3NlcjogdFxuICAgICAgICAsIHZlcnNpb246IGdldEZpcnN0TWF0Y2goLyg/OnVjYnJvd3NlcilbXFxzXFwvXShcXGQrKD86XFwuXFxkKykrKS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvbXhpb3MvaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnTWF4dGhvbidcbiAgICAgICAgLCBtYXh0aG9uOiB0XG4gICAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvKD86bXhpb3MpW1xcc1xcL10oXFxkKyg/OlxcLlxcZCspKykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoL2VwaXBoYW55L2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ0VwaXBoYW55J1xuICAgICAgICAsIGVwaXBoYW55OiB0XG4gICAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvKD86ZXBpcGhhbnkpW1xcc1xcL10oXFxkKyg/OlxcLlxcZCspKykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoL3B1ZmZpbi9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdQdWZmaW4nXG4gICAgICAgICwgcHVmZmluOiB0XG4gICAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvKD86cHVmZmluKVtcXHNcXC9dKFxcZCsoPzpcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9zbGVpcG5pci9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdTbGVpcG5pcidcbiAgICAgICAgLCBzbGVpcG5pcjogdFxuICAgICAgICAsIHZlcnNpb246IGdldEZpcnN0TWF0Y2goLyg/OnNsZWlwbmlyKVtcXHNcXC9dKFxcZCsoPzpcXC5cXGQrKSspL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9rLW1lbGVvbi9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdLLU1lbGVvbidcbiAgICAgICAgLCBrTWVsZW9uOiB0XG4gICAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvKD86ay1tZWxlb24pW1xcc1xcL10oXFxkKyg/OlxcLlxcZCspKykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAod2luZG93c3Bob25lKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdXaW5kb3dzIFBob25lJ1xuICAgICAgLCBvc25hbWU6ICdXaW5kb3dzIFBob25lJ1xuICAgICAgLCB3aW5kb3dzcGhvbmU6IHRcbiAgICAgIH1cbiAgICAgIGlmIChlZGdlVmVyc2lvbikge1xuICAgICAgICByZXN1bHQubXNlZGdlID0gdFxuICAgICAgICByZXN1bHQudmVyc2lvbiA9IGVkZ2VWZXJzaW9uXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0Lm1zaWUgPSB0XG4gICAgICAgIHJlc3VsdC52ZXJzaW9uID0gZ2V0Rmlyc3RNYXRjaCgvaWVtb2JpbGVcXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9tc2llfHRyaWRlbnQvaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnSW50ZXJuZXQgRXhwbG9yZXInXG4gICAgICAsIG1zaWU6IHRcbiAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvKD86bXNpZSB8cnY6KShcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNocm9tZW9zKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdDaHJvbWUnXG4gICAgICAsIG9zbmFtZTogJ0Nocm9tZSBPUydcbiAgICAgICwgY2hyb21lb3M6IHRcbiAgICAgICwgY2hyb21lQm9vazogdFxuICAgICAgLCBjaHJvbWU6IHRcbiAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvKD86Y2hyb21lfGNyaW9zfGNybW8pXFwvKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoL2VkZyhbZWFdfGlvcykvaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnTWljcm9zb2Z0IEVkZ2UnXG4gICAgICAsIG1zZWRnZTogdFxuICAgICAgLCB2ZXJzaW9uOiBlZGdlVmVyc2lvblxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvdml2YWxkaS9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdWaXZhbGRpJ1xuICAgICAgICAsIHZpdmFsZGk6IHRcbiAgICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC92aXZhbGRpXFwvKFxcZCsoXFwuXFxkKyk/KS9pKSB8fCB2ZXJzaW9uSWRlbnRpZmllclxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChzYWlsZmlzaCkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnU2FpbGZpc2gnXG4gICAgICAsIG9zbmFtZTogJ1NhaWxmaXNoIE9TJ1xuICAgICAgLCBzYWlsZmlzaDogdFxuICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC9zYWlsZmlzaFxccz9icm93c2VyXFwvKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvc2VhbW9ua2V5XFwvL2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ1NlYU1vbmtleSdcbiAgICAgICwgc2VhbW9ua2V5OiB0XG4gICAgICAsIHZlcnNpb246IGdldEZpcnN0TWF0Y2goL3NlYW1vbmtleVxcLyhcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoL2ZpcmVmb3h8aWNld2Vhc2VsfGZ4aW9zL2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ0ZpcmVmb3gnXG4gICAgICAsIGZpcmVmb3g6IHRcbiAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvKD86ZmlyZWZveHxpY2V3ZWFzZWx8Znhpb3MpWyBcXC9dKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgICAgaWYgKC9cXCgobW9iaWxlfHRhYmxldCk7W15cXCldKnJ2OltcXGRcXC5dK1xcKS9pLnRlc3QodWEpKSB7XG4gICAgICAgIHJlc3VsdC5maXJlZm94b3MgPSB0XG4gICAgICAgIHJlc3VsdC5vc25hbWUgPSAnRmlyZWZveCBPUydcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoc2lsaykge1xuICAgICAgcmVzdWx0ID0gIHtcbiAgICAgICAgbmFtZTogJ0FtYXpvbiBTaWxrJ1xuICAgICAgLCBzaWxrOiB0XG4gICAgICAsIHZlcnNpb24gOiBnZXRGaXJzdE1hdGNoKC9zaWxrXFwvKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvcGhhbnRvbS9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdQaGFudG9tSlMnXG4gICAgICAsIHBoYW50b206IHRcbiAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvcGhhbnRvbWpzXFwvKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvc2xpbWVyanMvaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnU2xpbWVySlMnXG4gICAgICAgICwgc2xpbWVyOiB0XG4gICAgICAgICwgdmVyc2lvbjogZ2V0Rmlyc3RNYXRjaCgvc2xpbWVyanNcXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9ibGFja2JlcnJ5fFxcYmJiXFxkKy9pLnRlc3QodWEpIHx8IC9yaW1cXHN0YWJsZXQvaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnQmxhY2tCZXJyeSdcbiAgICAgICwgb3NuYW1lOiAnQmxhY2tCZXJyeSBPUydcbiAgICAgICwgYmxhY2tiZXJyeTogdFxuICAgICAgLCB2ZXJzaW9uOiB2ZXJzaW9uSWRlbnRpZmllciB8fCBnZXRGaXJzdE1hdGNoKC9ibGFja2JlcnJ5W1xcZF0rXFwvKFxcZCsoXFwuXFxkKyk/KS9pKVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh3ZWJvcykge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnV2ViT1MnXG4gICAgICAsIG9zbmFtZTogJ1dlYk9TJ1xuICAgICAgLCB3ZWJvczogdFxuICAgICAgLCB2ZXJzaW9uOiB2ZXJzaW9uSWRlbnRpZmllciB8fCBnZXRGaXJzdE1hdGNoKC93KD86ZWIpP29zYnJvd3NlclxcLyhcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH07XG4gICAgICAvdG91Y2hwYWRcXC8vaS50ZXN0KHVhKSAmJiAocmVzdWx0LnRvdWNocGFkID0gdClcbiAgICB9XG4gICAgZWxzZSBpZiAoL2JhZGEvaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnQmFkYSdcbiAgICAgICwgb3NuYW1lOiAnQmFkYSdcbiAgICAgICwgYmFkYTogdFxuICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC9kb2xmaW5cXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0aXplbikge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnVGl6ZW4nXG4gICAgICAsIG9zbmFtZTogJ1RpemVuJ1xuICAgICAgLCB0aXplbjogdFxuICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC8oPzp0aXplblxccz8pP2Jyb3dzZXJcXC8oXFxkKyhcXC5cXGQrKT8pL2kpIHx8IHZlcnNpb25JZGVudGlmaWVyXG4gICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmICgvcXVwemlsbGEvaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnUXVwWmlsbGEnXG4gICAgICAgICwgcXVwemlsbGE6IHRcbiAgICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC8oPzpxdXB6aWxsYSlbXFxzXFwvXShcXGQrKD86XFwuXFxkKykrKS9pKSB8fCB2ZXJzaW9uSWRlbnRpZmllclxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvY2hyb21pdW0vaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnQ2hyb21pdW0nXG4gICAgICAgICwgY2hyb21pdW06IHRcbiAgICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC8oPzpjaHJvbWl1bSlbXFxzXFwvXShcXGQrKD86XFwuXFxkKyk/KS9pKSB8fCB2ZXJzaW9uSWRlbnRpZmllclxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvY2hyb21lfGNyaW9zfGNybW8vaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnQ2hyb21lJ1xuICAgICAgICAsIGNocm9tZTogdFxuICAgICAgICAsIHZlcnNpb246IGdldEZpcnN0TWF0Y2goLyg/OmNocm9tZXxjcmlvc3xjcm1vKVxcLyhcXGQrKFxcLlxcZCspPykvaSlcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYW5kcm9pZCkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBuYW1lOiAnQW5kcm9pZCdcbiAgICAgICAgLCB2ZXJzaW9uOiB2ZXJzaW9uSWRlbnRpZmllclxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvc2FmYXJpfGFwcGxld2Via2l0L2kudGVzdCh1YSkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZTogJ1NhZmFyaSdcbiAgICAgICwgc2FmYXJpOiB0XG4gICAgICB9XG4gICAgICBpZiAodmVyc2lvbklkZW50aWZpZXIpIHtcbiAgICAgICAgcmVzdWx0LnZlcnNpb24gPSB2ZXJzaW9uSWRlbnRpZmllclxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpb3NkZXZpY2UpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgbmFtZSA6IGlvc2RldmljZSA9PSAnaXBob25lJyA/ICdpUGhvbmUnIDogaW9zZGV2aWNlID09ICdpcGFkJyA/ICdpUGFkJyA6ICdpUG9kJ1xuICAgICAgfVxuICAgICAgLy8gV1RGOiB2ZXJzaW9uIGlzIG5vdCBwYXJ0IG9mIHVzZXIgYWdlbnQgaW4gd2ViIGFwcHNcbiAgICAgIGlmICh2ZXJzaW9uSWRlbnRpZmllcikge1xuICAgICAgICByZXN1bHQudmVyc2lvbiA9IHZlcnNpb25JZGVudGlmaWVyXG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYoL2dvb2dsZWJvdC9pLnRlc3QodWEpKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6ICdHb29nbGVib3QnXG4gICAgICAsIGdvb2dsZWJvdDogdFxuICAgICAgLCB2ZXJzaW9uOiBnZXRGaXJzdE1hdGNoKC9nb29nbGVib3RcXC8oXFxkKyhcXC5cXGQrKSkvaSkgfHwgdmVyc2lvbklkZW50aWZpZXJcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6IGdldEZpcnN0TWF0Y2goL14oLiopXFwvKC4qKSAvKSxcbiAgICAgICAgdmVyc2lvbjogZ2V0U2Vjb25kTWF0Y2goL14oLiopXFwvKC4qKSAvKVxuICAgICB9O1xuICAgfVxuXG4gICAgLy8gc2V0IHdlYmtpdCBvciBnZWNrbyBmbGFnIGZvciBicm93c2VycyBiYXNlZCBvbiB0aGVzZSBlbmdpbmVzXG4gICAgaWYgKCFyZXN1bHQubXNlZGdlICYmIC8oYXBwbGUpP3dlYmtpdC9pLnRlc3QodWEpKSB7XG4gICAgICBpZiAoLyhhcHBsZSk/d2Via2l0XFwvNTM3XFwuMzYvaS50ZXN0KHVhKSkge1xuICAgICAgICByZXN1bHQubmFtZSA9IHJlc3VsdC5uYW1lIHx8IFwiQmxpbmtcIlxuICAgICAgICByZXN1bHQuYmxpbmsgPSB0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQubmFtZSA9IHJlc3VsdC5uYW1lIHx8IFwiV2Via2l0XCJcbiAgICAgICAgcmVzdWx0LndlYmtpdCA9IHRcbiAgICAgIH1cbiAgICAgIGlmICghcmVzdWx0LnZlcnNpb24gJiYgdmVyc2lvbklkZW50aWZpZXIpIHtcbiAgICAgICAgcmVzdWx0LnZlcnNpb24gPSB2ZXJzaW9uSWRlbnRpZmllclxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXJlc3VsdC5vcGVyYSAmJiAvZ2Vja29cXC8vaS50ZXN0KHVhKSkge1xuICAgICAgcmVzdWx0Lm5hbWUgPSByZXN1bHQubmFtZSB8fCBcIkdlY2tvXCJcbiAgICAgIHJlc3VsdC5nZWNrbyA9IHRcbiAgICAgIHJlc3VsdC52ZXJzaW9uID0gcmVzdWx0LnZlcnNpb24gfHwgZ2V0Rmlyc3RNYXRjaCgvZ2Vja29cXC8oXFxkKyhcXC5cXGQrKT8pL2kpXG4gICAgfVxuXG4gICAgLy8gc2V0IE9TIGZsYWdzIGZvciBwbGF0Zm9ybXMgdGhhdCBoYXZlIG11bHRpcGxlIGJyb3dzZXJzXG4gICAgaWYgKCFyZXN1bHQud2luZG93c3Bob25lICYmIChhbmRyb2lkIHx8IHJlc3VsdC5zaWxrKSkge1xuICAgICAgcmVzdWx0LmFuZHJvaWQgPSB0XG4gICAgICByZXN1bHQub3NuYW1lID0gJ0FuZHJvaWQnXG4gICAgfSBlbHNlIGlmICghcmVzdWx0LndpbmRvd3NwaG9uZSAmJiBpb3NkZXZpY2UpIHtcbiAgICAgIHJlc3VsdFtpb3NkZXZpY2VdID0gdFxuICAgICAgcmVzdWx0LmlvcyA9IHRcbiAgICAgIHJlc3VsdC5vc25hbWUgPSAnaU9TJ1xuICAgIH0gZWxzZSBpZiAobWFjKSB7XG4gICAgICByZXN1bHQubWFjID0gdFxuICAgICAgcmVzdWx0Lm9zbmFtZSA9ICdtYWNPUydcbiAgICB9IGVsc2UgaWYgKHhib3gpIHtcbiAgICAgIHJlc3VsdC54Ym94ID0gdFxuICAgICAgcmVzdWx0Lm9zbmFtZSA9ICdYYm94J1xuICAgIH0gZWxzZSBpZiAod2luZG93cykge1xuICAgICAgcmVzdWx0LndpbmRvd3MgPSB0XG4gICAgICByZXN1bHQub3NuYW1lID0gJ1dpbmRvd3MnXG4gICAgfSBlbHNlIGlmIChsaW51eCkge1xuICAgICAgcmVzdWx0LmxpbnV4ID0gdFxuICAgICAgcmVzdWx0Lm9zbmFtZSA9ICdMaW51eCdcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRXaW5kb3dzVmVyc2lvbiAocykge1xuICAgICAgc3dpdGNoIChzKSB7XG4gICAgICAgIGNhc2UgJ05UJzogcmV0dXJuICdOVCdcbiAgICAgICAgY2FzZSAnWFAnOiByZXR1cm4gJ1hQJ1xuICAgICAgICBjYXNlICdOVCA1LjAnOiByZXR1cm4gJzIwMDAnXG4gICAgICAgIGNhc2UgJ05UIDUuMSc6IHJldHVybiAnWFAnXG4gICAgICAgIGNhc2UgJ05UIDUuMic6IHJldHVybiAnMjAwMydcbiAgICAgICAgY2FzZSAnTlQgNi4wJzogcmV0dXJuICdWaXN0YSdcbiAgICAgICAgY2FzZSAnTlQgNi4xJzogcmV0dXJuICc3J1xuICAgICAgICBjYXNlICdOVCA2LjInOiByZXR1cm4gJzgnXG4gICAgICAgIGNhc2UgJ05UIDYuMyc6IHJldHVybiAnOC4xJ1xuICAgICAgICBjYXNlICdOVCAxMC4wJzogcmV0dXJuICcxMCdcbiAgICAgICAgZGVmYXVsdDogcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE9TIHZlcnNpb24gZXh0cmFjdGlvblxuICAgIHZhciBvc1ZlcnNpb24gPSAnJztcbiAgICBpZiAocmVzdWx0LndpbmRvd3MpIHtcbiAgICAgIG9zVmVyc2lvbiA9IGdldFdpbmRvd3NWZXJzaW9uKGdldEZpcnN0TWF0Y2goL1dpbmRvd3MgKChOVHxYUCkoIFxcZFxcZD8uXFxkKT8pL2kpKVxuICAgIH0gZWxzZSBpZiAocmVzdWx0LndpbmRvd3NwaG9uZSkge1xuICAgICAgb3NWZXJzaW9uID0gZ2V0Rmlyc3RNYXRjaCgvd2luZG93cyBwaG9uZSAoPzpvcyk/XFxzPyhcXGQrKFxcLlxcZCspKikvaSk7XG4gICAgfSBlbHNlIGlmIChyZXN1bHQubWFjKSB7XG4gICAgICBvc1ZlcnNpb24gPSBnZXRGaXJzdE1hdGNoKC9NYWMgT1MgWCAoXFxkKyhbX1xcLlxcc11cXGQrKSopL2kpO1xuICAgICAgb3NWZXJzaW9uID0gb3NWZXJzaW9uLnJlcGxhY2UoL1tfXFxzXS9nLCAnLicpO1xuICAgIH0gZWxzZSBpZiAoaW9zZGV2aWNlKSB7XG4gICAgICBvc1ZlcnNpb24gPSBnZXRGaXJzdE1hdGNoKC9vcyAoXFxkKyhbX1xcc11cXGQrKSopIGxpa2UgbWFjIG9zIHgvaSk7XG4gICAgICBvc1ZlcnNpb24gPSBvc1ZlcnNpb24ucmVwbGFjZSgvW19cXHNdL2csICcuJyk7XG4gICAgfSBlbHNlIGlmIChhbmRyb2lkKSB7XG4gICAgICBvc1ZlcnNpb24gPSBnZXRGaXJzdE1hdGNoKC9hbmRyb2lkWyBcXC8tXShcXGQrKFxcLlxcZCspKikvaSk7XG4gICAgfSBlbHNlIGlmIChyZXN1bHQud2Vib3MpIHtcbiAgICAgIG9zVmVyc2lvbiA9IGdldEZpcnN0TWF0Y2goLyg/OndlYnxocHcpb3NcXC8oXFxkKyhcXC5cXGQrKSopL2kpO1xuICAgIH0gZWxzZSBpZiAocmVzdWx0LmJsYWNrYmVycnkpIHtcbiAgICAgIG9zVmVyc2lvbiA9IGdldEZpcnN0TWF0Y2goL3JpbVxcc3RhYmxldFxcc29zXFxzKFxcZCsoXFwuXFxkKykqKS9pKTtcbiAgICB9IGVsc2UgaWYgKHJlc3VsdC5iYWRhKSB7XG4gICAgICBvc1ZlcnNpb24gPSBnZXRGaXJzdE1hdGNoKC9iYWRhXFwvKFxcZCsoXFwuXFxkKykqKS9pKTtcbiAgICB9IGVsc2UgaWYgKHJlc3VsdC50aXplbikge1xuICAgICAgb3NWZXJzaW9uID0gZ2V0Rmlyc3RNYXRjaCgvdGl6ZW5bXFwvXFxzXShcXGQrKFxcLlxcZCspKikvaSk7XG4gICAgfVxuICAgIGlmIChvc1ZlcnNpb24pIHtcbiAgICAgIHJlc3VsdC5vc3ZlcnNpb24gPSBvc1ZlcnNpb247XG4gICAgfVxuXG4gICAgLy8gZGV2aWNlIHR5cGUgZXh0cmFjdGlvblxuICAgIHZhciBvc01ham9yVmVyc2lvbiA9ICFyZXN1bHQud2luZG93cyAmJiBvc1ZlcnNpb24uc3BsaXQoJy4nKVswXTtcbiAgICBpZiAoXG4gICAgICAgICB0YWJsZXRcbiAgICAgIHx8IG5leHVzVGFibGV0XG4gICAgICB8fCBpb3NkZXZpY2UgPT0gJ2lwYWQnXG4gICAgICB8fCAoYW5kcm9pZCAmJiAob3NNYWpvclZlcnNpb24gPT0gMyB8fCAob3NNYWpvclZlcnNpb24gPj0gNCAmJiAhbW9iaWxlKSkpXG4gICAgICB8fCByZXN1bHQuc2lsa1xuICAgICkge1xuICAgICAgcmVzdWx0LnRhYmxldCA9IHRcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgbW9iaWxlXG4gICAgICB8fCBpb3NkZXZpY2UgPT0gJ2lwaG9uZSdcbiAgICAgIHx8IGlvc2RldmljZSA9PSAnaXBvZCdcbiAgICAgIHx8IGFuZHJvaWRcbiAgICAgIHx8IG5leHVzTW9iaWxlXG4gICAgICB8fCByZXN1bHQuYmxhY2tiZXJyeVxuICAgICAgfHwgcmVzdWx0LndlYm9zXG4gICAgICB8fCByZXN1bHQuYmFkYVxuICAgICkge1xuICAgICAgcmVzdWx0Lm1vYmlsZSA9IHRcbiAgICB9XG5cbiAgICAvLyBHcmFkZWQgQnJvd3NlciBTdXBwb3J0XG4gICAgLy8gaHR0cDovL2RldmVsb3Blci55YWhvby5jb20veXVpL2FydGljbGVzL2dic1xuICAgIGlmIChyZXN1bHQubXNlZGdlIHx8XG4gICAgICAgIChyZXN1bHQubXNpZSAmJiByZXN1bHQudmVyc2lvbiA+PSAxMCkgfHxcbiAgICAgICAgKHJlc3VsdC55YW5kZXhicm93c2VyICYmIHJlc3VsdC52ZXJzaW9uID49IDE1KSB8fFxuXHRcdCAgICAocmVzdWx0LnZpdmFsZGkgJiYgcmVzdWx0LnZlcnNpb24gPj0gMS4wKSB8fFxuICAgICAgICAocmVzdWx0LmNocm9tZSAmJiByZXN1bHQudmVyc2lvbiA+PSAyMCkgfHxcbiAgICAgICAgKHJlc3VsdC5zYW1zdW5nQnJvd3NlciAmJiByZXN1bHQudmVyc2lvbiA+PSA0KSB8fFxuICAgICAgICAocmVzdWx0LndoYWxlICYmIGNvbXBhcmVWZXJzaW9ucyhbcmVzdWx0LnZlcnNpb24sICcxLjAnXSkgPT09IDEpIHx8XG4gICAgICAgIChyZXN1bHQubXpicm93c2VyICYmIGNvbXBhcmVWZXJzaW9ucyhbcmVzdWx0LnZlcnNpb24sICc2LjAnXSkgPT09IDEpIHx8XG4gICAgICAgIChyZXN1bHQuZm9jdXMgJiYgY29tcGFyZVZlcnNpb25zKFtyZXN1bHQudmVyc2lvbiwgJzEuMCddKSA9PT0gMSkgfHxcbiAgICAgICAgKHJlc3VsdC5maXJlZm94ICYmIHJlc3VsdC52ZXJzaW9uID49IDIwLjApIHx8XG4gICAgICAgIChyZXN1bHQuc2FmYXJpICYmIHJlc3VsdC52ZXJzaW9uID49IDYpIHx8XG4gICAgICAgIChyZXN1bHQub3BlcmEgJiYgcmVzdWx0LnZlcnNpb24gPj0gMTAuMCkgfHxcbiAgICAgICAgKHJlc3VsdC5pb3MgJiYgcmVzdWx0Lm9zdmVyc2lvbiAmJiByZXN1bHQub3N2ZXJzaW9uLnNwbGl0KFwiLlwiKVswXSA+PSA2KSB8fFxuICAgICAgICAocmVzdWx0LmJsYWNrYmVycnkgJiYgcmVzdWx0LnZlcnNpb24gPj0gMTAuMSlcbiAgICAgICAgfHwgKHJlc3VsdC5jaHJvbWl1bSAmJiByZXN1bHQudmVyc2lvbiA+PSAyMClcbiAgICAgICAgKSB7XG4gICAgICByZXN1bHQuYSA9IHQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKChyZXN1bHQubXNpZSAmJiByZXN1bHQudmVyc2lvbiA8IDEwKSB8fFxuICAgICAgICAocmVzdWx0LmNocm9tZSAmJiByZXN1bHQudmVyc2lvbiA8IDIwKSB8fFxuICAgICAgICAocmVzdWx0LmZpcmVmb3ggJiYgcmVzdWx0LnZlcnNpb24gPCAyMC4wKSB8fFxuICAgICAgICAocmVzdWx0LnNhZmFyaSAmJiByZXN1bHQudmVyc2lvbiA8IDYpIHx8XG4gICAgICAgIChyZXN1bHQub3BlcmEgJiYgcmVzdWx0LnZlcnNpb24gPCAxMC4wKSB8fFxuICAgICAgICAocmVzdWx0LmlvcyAmJiByZXN1bHQub3N2ZXJzaW9uICYmIHJlc3VsdC5vc3ZlcnNpb24uc3BsaXQoXCIuXCIpWzBdIDwgNilcbiAgICAgICAgfHwgKHJlc3VsdC5jaHJvbWl1bSAmJiByZXN1bHQudmVyc2lvbiA8IDIwKVxuICAgICAgICApIHtcbiAgICAgIHJlc3VsdC5jID0gdFxuICAgIH0gZWxzZSByZXN1bHQueCA9IHRcblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIHZhciBib3dzZXIgPSBkZXRlY3QodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgPyBuYXZpZ2F0b3IudXNlckFnZW50IHx8ICcnIDogJycpXG5cbiAgYm93c2VyLnRlc3QgPSBmdW5jdGlvbiAoYnJvd3Nlckxpc3QpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJyb3dzZXJMaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgYnJvd3Nlckl0ZW0gPSBicm93c2VyTGlzdFtpXTtcbiAgICAgIGlmICh0eXBlb2YgYnJvd3Nlckl0ZW09PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKGJyb3dzZXJJdGVtIGluIGJvd3Nlcikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdmVyc2lvbiBwcmVjaXNpb25zIGNvdW50XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqICAgZ2V0VmVyc2lvblByZWNpc2lvbihcIjEuMTAuM1wiKSAvLyAzXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdmVyc2lvblxuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqL1xuICBmdW5jdGlvbiBnZXRWZXJzaW9uUHJlY2lzaW9uKHZlcnNpb24pIHtcbiAgICByZXR1cm4gdmVyc2lvbi5zcGxpdChcIi5cIikubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIEFycmF5OjptYXAgcG9seWZpbGxcbiAgICpcbiAgICogQHBhcmFtICB7QXJyYXl9IGFyclxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gaXRlcmF0b3JcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqL1xuICBmdW5jdGlvbiBtYXAoYXJyLCBpdGVyYXRvcikge1xuICAgIHZhciByZXN1bHQgPSBbXSwgaTtcbiAgICBpZiAoQXJyYXkucHJvdG90eXBlLm1hcCkge1xuICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhcnIsIGl0ZXJhdG9yKTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0LnB1c2goaXRlcmF0b3IoYXJyW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIGJyb3dzZXIgdmVyc2lvbiB3ZWlnaHRcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogICBjb21wYXJlVmVyc2lvbnMoWycxLjEwLjIuMScsICAnMS44LjIuMS45MCddKSAgICAvLyAxXG4gICAqICAgY29tcGFyZVZlcnNpb25zKFsnMS4wMTAuMi4xJywgJzEuMDkuMi4xLjkwJ10pOyAgLy8gMVxuICAgKiAgIGNvbXBhcmVWZXJzaW9ucyhbJzEuMTAuMi4xJywgICcxLjEwLjIuMSddKTsgICAgIC8vIDBcbiAgICogICBjb21wYXJlVmVyc2lvbnMoWycxLjEwLjIuMScsICAnMS4wODAwLjInXSk7ICAgICAvLyAtMVxuICAgKlxuICAgKiBAcGFyYW0gIHtBcnJheTxTdHJpbmc+fSB2ZXJzaW9ucyB2ZXJzaW9ucyB0byBjb21wYXJlXG4gICAqIEByZXR1cm4ge051bWJlcn0gY29tcGFyaXNvbiByZXN1bHRcbiAgICovXG4gIGZ1bmN0aW9uIGNvbXBhcmVWZXJzaW9ucyh2ZXJzaW9ucykge1xuICAgIC8vIDEpIGdldCBjb21tb24gcHJlY2lzaW9uIGZvciBib3RoIHZlcnNpb25zLCBmb3IgZXhhbXBsZSBmb3IgXCIxMC4wXCIgYW5kIFwiOVwiIGl0IHNob3VsZCBiZSAyXG4gICAgdmFyIHByZWNpc2lvbiA9IE1hdGgubWF4KGdldFZlcnNpb25QcmVjaXNpb24odmVyc2lvbnNbMF0pLCBnZXRWZXJzaW9uUHJlY2lzaW9uKHZlcnNpb25zWzFdKSk7XG4gICAgdmFyIGNodW5rcyA9IG1hcCh2ZXJzaW9ucywgZnVuY3Rpb24gKHZlcnNpb24pIHtcbiAgICAgIHZhciBkZWx0YSA9IHByZWNpc2lvbiAtIGdldFZlcnNpb25QcmVjaXNpb24odmVyc2lvbik7XG5cbiAgICAgIC8vIDIpIFwiOVwiIC0+IFwiOS4wXCIgKGZvciBwcmVjaXNpb24gPSAyKVxuICAgICAgdmVyc2lvbiA9IHZlcnNpb24gKyBuZXcgQXJyYXkoZGVsdGEgKyAxKS5qb2luKFwiLjBcIik7XG5cbiAgICAgIC8vIDMpIFwiOS4wXCIgLT4gW1wiMDAwMDAwMDAwXCJcIiwgXCIwMDAwMDAwMDlcIl1cbiAgICAgIHJldHVybiBtYXAodmVyc2lvbi5zcGxpdChcIi5cIiksIGZ1bmN0aW9uIChjaHVuaykge1xuICAgICAgICByZXR1cm4gbmV3IEFycmF5KDIwIC0gY2h1bmsubGVuZ3RoKS5qb2luKFwiMFwiKSArIGNodW5rO1xuICAgICAgfSkucmV2ZXJzZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gaXRlcmF0ZSBpbiByZXZlcnNlIG9yZGVyIGJ5IHJldmVyc2VkIGNodW5rcyBhcnJheVxuICAgIHdoaWxlICgtLXByZWNpc2lvbiA+PSAwKSB7XG4gICAgICAvLyA0KSBjb21wYXJlOiBcIjAwMDAwMDAwOVwiID4gXCIwMDAwMDAwMTBcIiA9IGZhbHNlIChidXQgXCI5XCIgPiBcIjEwXCIgPSB0cnVlKVxuICAgICAgaWYgKGNodW5rc1swXVtwcmVjaXNpb25dID4gY2h1bmtzWzFdW3ByZWNpc2lvbl0pIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChjaHVua3NbMF1bcHJlY2lzaW9uXSA9PT0gY2h1bmtzWzFdW3ByZWNpc2lvbl0pIHtcbiAgICAgICAgaWYgKHByZWNpc2lvbiA9PT0gMCkge1xuICAgICAgICAgIC8vIGFsbCB2ZXJzaW9uIGNodW5rcyBhcmUgc2FtZVxuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBicm93c2VyIGlzIHVuc3VwcG9ydGVkXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqICAgYm93c2VyLmlzVW5zdXBwb3J0ZWRCcm93c2VyKHtcbiAgICogICAgIG1zaWU6IFwiMTBcIixcbiAgICogICAgIGZpcmVmb3g6IFwiMjNcIixcbiAgICogICAgIGNocm9tZTogXCIyOVwiLFxuICAgKiAgICAgc2FmYXJpOiBcIjUuMVwiLFxuICAgKiAgICAgb3BlcmE6IFwiMTZcIixcbiAgICogICAgIHBoYW50b206IFwiNTM0XCJcbiAgICogICB9KTtcbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fSAgbWluVmVyc2lvbnMgbWFwIG9mIG1pbmltYWwgdmVyc2lvbiB0byBicm93c2VyXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IFtzdHJpY3RNb2RlID0gZmFsc2VdIGZsYWcgdG8gcmV0dXJuIGZhbHNlIGlmIGJyb3dzZXIgd2Fzbid0IGZvdW5kIGluIG1hcFxuICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBbdWFdIHVzZXIgYWdlbnQgc3RyaW5nXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqL1xuICBmdW5jdGlvbiBpc1Vuc3VwcG9ydGVkQnJvd3NlcihtaW5WZXJzaW9ucywgc3RyaWN0TW9kZSwgdWEpIHtcbiAgICB2YXIgX2Jvd3NlciA9IGJvd3NlcjtcblxuICAgIC8vIG1ha2Ugc3RyaWN0TW9kZSBwYXJhbSBvcHRpb25hbCB3aXRoIHVhIHBhcmFtIHVzYWdlXG4gICAgaWYgKHR5cGVvZiBzdHJpY3RNb2RlID09PSAnc3RyaW5nJykge1xuICAgICAgdWEgPSBzdHJpY3RNb2RlO1xuICAgICAgc3RyaWN0TW9kZSA9IHZvaWQoMCk7XG4gICAgfVxuXG4gICAgaWYgKHN0cmljdE1vZGUgPT09IHZvaWQoMCkpIHtcbiAgICAgIHN0cmljdE1vZGUgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHVhKSB7XG4gICAgICBfYm93c2VyID0gZGV0ZWN0KHVhKTtcbiAgICB9XG5cbiAgICB2YXIgdmVyc2lvbiA9IFwiXCIgKyBfYm93c2VyLnZlcnNpb247XG4gICAgZm9yICh2YXIgYnJvd3NlciBpbiBtaW5WZXJzaW9ucykge1xuICAgICAgaWYgKG1pblZlcnNpb25zLmhhc093blByb3BlcnR5KGJyb3dzZXIpKSB7XG4gICAgICAgIGlmIChfYm93c2VyW2Jyb3dzZXJdKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBtaW5WZXJzaW9uc1ticm93c2VyXSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQnJvd3NlciB2ZXJzaW9uIGluIHRoZSBtaW5WZXJzaW9uIG1hcCBzaG91bGQgYmUgYSBzdHJpbmc6ICcgKyBicm93c2VyICsgJzogJyArIFN0cmluZyhtaW5WZXJzaW9ucykpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGJyb3dzZXIgdmVyc2lvbiBhbmQgbWluIHN1cHBvcnRlZCB2ZXJzaW9uLlxuICAgICAgICAgIHJldHVybiBjb21wYXJlVmVyc2lvbnMoW3ZlcnNpb24sIG1pblZlcnNpb25zW2Jyb3dzZXJdXSkgPCAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cmljdE1vZGU7IC8vIG5vdCBmb3VuZFxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGJyb3dzZXIgaXMgc3VwcG9ydGVkXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gbWluVmVyc2lvbnMgbWFwIG9mIG1pbmltYWwgdmVyc2lvbiB0byBicm93c2VyXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IFtzdHJpY3RNb2RlID0gZmFsc2VdIGZsYWcgdG8gcmV0dXJuIGZhbHNlIGlmIGJyb3dzZXIgd2Fzbid0IGZvdW5kIGluIG1hcFxuICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBbdWFdIHVzZXIgYWdlbnQgc3RyaW5nXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqL1xuICBmdW5jdGlvbiBjaGVjayhtaW5WZXJzaW9ucywgc3RyaWN0TW9kZSwgdWEpIHtcbiAgICByZXR1cm4gIWlzVW5zdXBwb3J0ZWRCcm93c2VyKG1pblZlcnNpb25zLCBzdHJpY3RNb2RlLCB1YSk7XG4gIH1cblxuICBib3dzZXIuaXNVbnN1cHBvcnRlZEJyb3dzZXIgPSBpc1Vuc3VwcG9ydGVkQnJvd3NlcjtcbiAgYm93c2VyLmNvbXBhcmVWZXJzaW9ucyA9IGNvbXBhcmVWZXJzaW9ucztcbiAgYm93c2VyLmNoZWNrID0gY2hlY2s7XG5cbiAgLypcbiAgICogU2V0IG91ciBkZXRlY3QgbWV0aG9kIHRvIHRoZSBtYWluIGJvd3NlciBvYmplY3Qgc28gd2UgY2FuXG4gICAqIHJldXNlIGl0IHRvIHRlc3Qgb3RoZXIgdXNlciBhZ2VudHMuXG4gICAqIFRoaXMgaXMgbmVlZGVkIHRvIGltcGxlbWVudCBmdXR1cmUgdGVzdHMuXG4gICAqL1xuICBib3dzZXIuX2RldGVjdCA9IGRldGVjdDtcblxuICAvKlxuICAgKiBTZXQgb3VyIGRldGVjdCBwdWJsaWMgbWV0aG9kIHRvIHRoZSBtYWluIGJvd3NlciBvYmplY3RcbiAgICogVGhpcyBpcyBuZWVkZWQgdG8gaW1wbGVtZW50IGJvd3NlciBpbiBzZXJ2ZXIgc2lkZVxuICAgKi9cbiAgYm93c2VyLmRldGVjdCA9IGRldGVjdDtcbiAgcmV0dXJuIGJvd3NlclxufSk7XG4iLCIvKiBOaWZ0eSBOYXZcbiogQXV0aG9yOiBFcmljIFN0b3V0IC8gRmFjdG9yMVxuKiBodHRwOi8vZmFjdG9yMXN0dWRpb3MuY29tXG4qIFJlcG86IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWN0b3IxL25pZnR5LW5hdlxuKiBWZXJzaW9uOiAyLjMuMVxuKi9cblxuKGZ1bmN0aW9uICgkKSB7XG5cbiAgJC5mbi5uaWZ0eU5hdiA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgICRuaWZ0eV90b2dnbGUgPSAkKCcjbmlmdHktbmF2LXRvZ2dsZScpO1xuICAgICRuaWZ0eV9wYW5lbCA9ICQoJy5uaWZ0eS1wYW5lbCcpO1xuICAgICRuaWZ0eV9uYXZfaXRlbSA9ICQoJy5uaWZ0eS1uYXYtaXRlbScpO1xuICAgICRuaWZ0eV9wYXJlbnQgPSAkKCcubmlmdHktcGFuZWwgdWwgbGknKTtcblxuICAgIHZhciBzZXR0aW5ncyA9ICQuZXh0ZW5kKHtcbiAgICAgIC8vIFRoZXNlIGFyZSB0aGUgZGVmYXVsdHMuXG4gICAgICBzdWJNZW51czogZmFsc2UsXG4gICAgICBtYXNrOiB0cnVlLFxuICAgICAgaXRlbUNsaWNrQ2xvc2U6IHRydWUsXG4gICAgICBwYW5lbFBvc2l0aW9uOiAgJ2Fic29sdXRlJyxcbiAgICAgIHN1Yk1lbnVQYXJlbnRMaW5rOiAgZmFsc2VcbiAgICB9LCBvcHRpb25zICk7XG5cbiAgICBzdWJNZW51cyAgICAgICAgICA9IHNldHRpbmdzLnN1Yk1lbnVzO1xuICAgIG1hc2sgICAgICAgICAgICAgID0gc2V0dGluZ3MubWFzaztcbiAgICBpdGVtQ2xpY2tDbG9zZSAgICA9IHNldHRpbmdzLml0ZW1DbGlja0Nsb3NlO1xuICAgIHBhbmVsUG9zaXRpb24gICAgID0gc2V0dGluZ3MucGFuZWxQb3NpdGlvbjtcbiAgICBzdWJNZW51UGFyZW50TGluayA9IHNldHRpbmdzLnN1Yk1lbnVQYXJlbnRMaW5rO1xuXG5cbiAgICAvLyBDb3JlIE5pZnR5IE5hdiBGdW5jdGlvbnNcbiAgICBuaWZ0eVJlbW92ZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAkKCcubmlmdHktbWFzaycpLnJlbW92ZSgpO1xuICAgIH07XG5cbiAgICBuaWZ0eVVubWFzayA9IGZ1bmN0aW9uKCl7XG4gICAgICAkKCcubmlmdHktbWFzaycpLmFuaW1hdGUoe29wYWNpdHk6IDAuMH0pO1xuICAgICAgc2V0VGltZW91dChuaWZ0eVJlbW92ZSwgODAwKTtcbiAgICB9O1xuXG4gICAgLy8gb24gbmlmdHkgbmF2IHRvZ2dsZSBjbGlja1xuICAgICRuaWZ0eV90b2dnbGUuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAkdGhpcy50b2dnbGVDbGFzcygnbmlmdHktYWN0aXZlJyk7XG4gICAgICAkbmlmdHlfcGFuZWwuc2xpZGVUb2dnbGUoNTAwKS5jc3MoJ3Bvc2l0aW9uJyxwYW5lbFBvc2l0aW9uKTtcblxuICAgICAgLy8gaWYgcGFuZWxQb3NpdGlvbiBpcyBmaXhlZFxuICAgICAgaWYoIHBhbmVsUG9zaXRpb24gPT0gJ2ZpeGVkJyApe1xuICAgICAgICAkKCdib2R5JykudG9nZ2xlQ2xhc3MoJ25pZnR5LWxvY2snKTtcbiAgICAgIH1cblxuICAgICAgaWYoIG1hc2sgPT09IHRydWUpe1xuICAgICAgICAvLyBpZiBhIG1hc2sgZXhpc3RzXG4gICAgICAgIGlmKCAkKCcubmlmdHktbWFzaycpLmxlbmd0aCA+IDAgKXtcbiAgICAgICAgICBuaWZ0eVVubWFzaygpO1xuICAgICAgICB9IGVsc2V7XG4gICAgICAgICAgLy8gaWYgbm8gbWFzayBleGlzdHNcbiAgICAgICAgICAkKCdib2R5JykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwibmlmdHktbWFza1wiPjwvZGl2PicpO1xuICAgICAgICAgICQoJy5uaWZ0eS1tYXNrJykuYW5pbWF0ZSh7b3BhY2l0eTogMS4wfSk7XG5cbiAgICAgICAgICAvLyBpZiBhIHVzZXIgY2xpY2tzIG9uIHRoZSBtYXNrXG4gICAgICAgICAgJCgnLm5pZnR5LW1hc2snKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgJG5pZnR5X3BhbmVsLnNsaWRlVXAoNTAwKTtcbiAgICAgICAgICAgIG5pZnR5VW5tYXNrKCk7XG4gICAgICAgICAgICAkbmlmdHlfdG9nZ2xlLnJlbW92ZUNsYXNzKCduaWZ0eS1hY3RpdmUnKTtcblxuICAgICAgICAgICAgLy8gaWYgcGFuZWxQb3NpdGlvbiBpcyBmaXhlZFxuICAgICAgICAgICAgaWYoIHBhbmVsUG9zaXRpb24gPT0gJ2ZpeGVkJyApe1xuICAgICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ25pZnR5LWxvY2snKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gY2xvc2UgbmlmdHkgbmF2IG9uIG5hdiBpdGVtIGNsaWNrXG4gICAgaWYoIGl0ZW1DbGlja0Nsb3NlID09PSB0cnVlICl7XG4gICAgICAkbmlmdHlfbmF2X2l0ZW0uY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgJG5pZnR5X3BhbmVsLnNsaWRlVXAoNTAwKTtcbiAgICAgICAgbmlmdHlVbm1hc2soKTtcbiAgICAgICAgJG5pZnR5X3RvZ2dsZS5yZW1vdmVDbGFzcygnbmlmdHktYWN0aXZlJyk7XG5cbiAgICAgICAgLy8gaWYgcGFuZWxQb3NpdGlvbiBpcyBmaXhlZFxuICAgICAgICBpZiggcGFuZWxQb3NpdGlvbiA9PSAnZml4ZWQnICl7XG4gICAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCduaWZ0eS1sb2NrJyk7XG4gICAgICAgIH1cblxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gaWYgc3ViIG1lbnVzIGFyZSBlbmFibGVkXG4gICAgaWYoIHN1Yk1lbnVzID09PSB0cnVlICl7XG4gICAgICB2YXIgJG5pZnR5X3BhcmVudF9hY3RpdmU7XG4gICAgICAvLyBpZiBzdWJNZW51UGFyZW50TGluayBpcyBmYWxzZVxuICAgICAgaWYoIHN1Yk1lbnVQYXJlbnRMaW5rID09PSBmYWxzZSApe1xuICAgICAgICAkKCcubmlmdHktcGFuZWwgLm1lbnUtaXRlbS1oYXMtY2hpbGRyZW4gPiBhJykuY2xpY2soZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAkbmlmdHlfcGFyZW50LmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgICRuaWZ0eV9wYXJlbnRfYWN0aXZlID0gJCh0aGlzKTtcbiAgICAgICAgJG5pZnR5X3BhcmVudF9hY3RpdmUuZmluZCgnLnN1Yi1tZW51Jykuc2xpZGVUb2dnbGUoKTtcbiAgICAgICAgJG5pZnR5X3BhcmVudF9hY3RpdmUudG9nZ2xlQ2xhc3MoJ25pZnR5LW1lbnUtb3BlbmVkJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgfTtcblxufSggalF1ZXJ5ICkpO1xuIiwialF1ZXJ5KCBkb2N1bWVudCApLnJlYWR5KGZ1bmN0aW9uKCAkICkge1xuXHQvLyBJbnNpZGUgb2YgdGhpcyBmdW5jdGlvbiwgJCgpIHdpbGwgd29yayBhcyBhbiBhbGlhcyBmb3IgalF1ZXJ5KClcblx0Ly8gYW5kIG90aGVyIGxpYnJhcmllcyBhbHNvIHVzaW5nICQgd2lsbCBub3QgYmUgYWNjZXNzaWJsZSB1bmRlciB0aGlzIHNob3J0Y3V0XG5cdC8vIGh0dHBzOi8vY29kZXgud29yZHByZXNzLm9yZy9GdW5jdGlvbl9SZWZlcmVuY2Uvd3BfZW5xdWV1ZV9zY3JpcHQjalF1ZXJ5X25vQ29uZmxpY3RfV3JhcHBlcnNcblxuXHQvLyBUb3VjaCBEZXZpY2UgRGV0ZWN0aW9uXG5cdHZhciBpc1RvdWNoRGV2aWNlID0gJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHRpZiggaXNUb3VjaERldmljZSApIHtcblx0XHQkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ25vLXRvdWNoJyk7XG5cdH1cblxuXHQvLyBCcm93c2VyIGRldGVjdGlvbiB2aWEgQm93c2VyIChodHRwczovL2dpdGh1Yi5jb20vbGFuY2VkaWtzb24vYm93c2VyKSAtIGFkZCBkZXRlY3Rpb24gYXMgbmVlZGVkXG5cdGlmKCBib3dzZXIubXNpZSAmJiBib3dzZXIudmVyc2lvbiA9PSAxMSApIHtcblx0XHQkKCdib2R5JykuYWRkQ2xhc3MoJ2llLTExJyk7XG5cdH0gZWxzZSBpZiAoIGJvd3Nlci5zYWZhcmkgKSB7XG5cdFx0JCgnYm9keScpLmFkZENsYXNzKCdzYWZhcmknKTtcblx0fVxuXG5cdC8vIE5pZnR5IE5hdlxuXHQkKCcjbmlmdHktbmF2LXRvZ2dsZScpLm5pZnR5TmF2KCk7XG5cblx0Ly8gRm9ybSBMYWJlbCBBbmltYXRpb25cblx0JCgnLmdmb3JtX3dyYXBwZXIgZm9ybSAuYW5pbWF0ZWQnKS5maW5kKCdpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYScpLm9uKCdmb2N1c2luJywgZnVuY3Rpb24oKSB7XG5cdFx0JCh0aGlzKS5wYXJlbnRzKCcuYW5pbWF0ZWQnKS5jaGlsZHJlbignbGFiZWwnKS5hZGRDbGFzcygnYWN0aXZlLXBvc2l0aW9uIGFjdGl2ZS13ZWlnaHQgYWN0aXZlLWNvbG9yJyk7XG5cblx0XHQvLyBPZmYgZm9jdXNcblx0XHQkKCcuZ2Zvcm1fd3JhcHBlciBmb3JtIC5hbmltYXRlZCcpLmZpbmQoJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhJykub24oJ2ZvY3Vzb3V0JywgZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiggJCh0aGlzKS52YWwoKSAhPT0gJycgKSB7IC8vIFJlbW92ZSBhY3RpdmUgd2VpZ2h0IGFuZCBrZWVwIHJhaXNlZCBwb3NpdGlvbiBpZiBpbnB1dCBoYXMgY29udGVudFxuXHRcdFx0XHQkKHRoaXMpLnBhcmVudHMoJy5hbmltYXRlZCcpLmNoaWxkcmVuKCdsYWJlbCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUtd2VpZ2h0Jyk7XG5cdFx0XHR9IGVsc2UgeyAvLyBFbHNlIHJlbW92ZSBib3RoIHdlaWdodCBhbmQgcmFpc2VkIHBvc2l0aW9uXG5cdFx0XHRcdCQodGhpcykucGFyZW50cygnLmFuaW1hdGVkJykuY2hpbGRyZW4oJ2xhYmVsJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1wb3NpdGlvbiBhY3RpdmUtd2VpZ2h0IGFjdGl2ZS1jb2xvcicpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblxufSk7XG4iXX0=
